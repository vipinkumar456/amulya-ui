<div class="p-container">
    <div class="header-row" style="display: flex;">
        <div class="title"><img class="backBtn" [routerLink]="['/vendor']" src="../../assets/keyboard_backspace-24px (1).png" />Ledger</div>
    </div>

    <div class="filter-container">
        <h4 style="font-weight: bolder;">Filter By</h4>
        <form [formGroup]="distFilterForm">
        <div class="row form-group">
            <div class="col">
                <label >Vendor Code: </label>
                <input type="text" formControlName="vendorCode"  class="form-control" placeholder="VENDOR Code" (change)="onVendorSelection($event.target.value)"   />
            </div>

            <div class="col">
                <label >Vendor Name: </label>
                <input type="text" formControlName="vendor"  class="form-control"   disabled />
            </div>
            
            <div class="col">
                <label for="fromDate">FROM DATE<span class="star"></span></label>
                <div class="input-group">
                    <input placeholder="Select" [owlDateTime]="dt1" [owlDateTimeTrigger]="dt1" class="form-control" dateFormat="dd-MM-yyyy" formControlName="fromDate" [max]="maxDateValue" (dateTimeInput)="checkDate()" >
                    <div class="input-group-append" [owlDateTimeTrigger]="dt1" >
                        <span class="input-group-text" id="basic-addon1">
                            <img src="./assets/date_range-24px (1).png">
                        </span>

                    </div>
                </div>
                <owl-date-time #dt1 [pickerType]="'calendar'" ></owl-date-time>
                <!-- <label >From Date</label>
                <input type="date" formControlName="fromDate" class="form-control" [max]="maxDateValue" [min]="maxDateValue" placeholder="FROM DATE"  (change)="checkDate()"/> -->
                
            </div>
            <div class="col">
                <label for="fromDate">TO DATE<span class="star"></span></label>
                <div class="input-group">
                    <input placeholder="Select"  [owlDateTime]="dt2" [owlDateTimeTrigger]="dt2" class="form-control"  formControlName="toDate" [max]="maxDateValue" [min]="minDateValue" (dateTimeInput)="checkDate()" >
                    <div class="input-group-append" [owlDateTimeTrigger]="dt2"  >
                        <span class="input-group-text" id="basic-addon1">
                            <img src="./assets/date_range-24px (1).png">
                        </span>

                    </div>
                </div>
                <owl-date-time #dt2 [pickerType]="'calendar'" [disabled]="!distFilterForm.value.fromDate"></owl-date-time>
                <!-- <label >To Date</label>
                <input type="date" formControlName="toDate" class="form-control" placeholder="TO DATE" (change)= "checkDate()"/> -->
            </div>
        </div>
        <div class="row">

            <div class="col" style="text-align: center;">
                <button class="btn" (click)="filterDistributor()" [disabled]="!distFilterForm.valid">Search</button>
            </div>
        </div>
        </form>
    </div>
    <div class="page-content" *ngIf="isVendor">
        <div class="showList">
            <div class="itemsContainer" style="overflow-x:scroll;">
            <table class="table list-table" id="tableHeader">
                <thead>
                    <tr>
                        <th scope="col" class="th-header" *ngFor="let head of header; let i = index" (click)="sortBy(head.APIname, head)" [ngStyle]="{'width':head.width}">
                            {{head.name}} <img *ngIf="head.showSort" src="../../assets/arrow_drop_up-24px.png"></th>
                        <!-- <th scope="col" style="width:200px;"></th>
                        <th scope="col" style="width:200px;"></th> -->
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let distributor of distributors; let i= index">
                        <td>{{i+1}}</td>
                        <td>{{distributor.transactionDate | date:"dd/MM/yyyy"}}</td>
                        <td>{{distributor.vendor}}</td>
                        <td>{{distributor.transactionType}}</td>
                        <td >{{distributor.voucherNumber}}</td>
                        <td *ngIf="distributor.transactionType=='Debit note' || distributor.transactionType=='Purchase Order' ">-{{distributor.amount}}</td>
                        <td *ngIf="distributor.transactionType=='Payment'">{{distributor.amount}}</td>
                    </tr>
                </tbody> 
                <tfoot *ngIf="this.distributors.length>0">
                    <tr>
                        <!-- <td colspan="4"> -->
                            <!-- <div class="addlist" (click)="addItem()">Add Another</div> -->
                        <!-- </td> -->
                        <td style="min-width: 110px;">
                            <b>Balance :</b>
                        </td>
                        <td><b style="white-space: nowrap;">â‚¹ {{this.consolidate}} </b></td>
                        <!-- <td></td> -->
                    </tr>
                </tfoot>   
            </table>
            </div>
            <div class="d-flex justify-content-between p-2 prodList-pagination" *ngIf="distributors?.length > 0">
                <!-- <div class="backToTop" (click)="scrollToTop(pageTop)">Back to Top</div> -->
                <div class="pagi">
                    <ngb-pagination [collectionSize]="collectionSize" [(page)]="page" [maxSize]="4" [pageSize]="pageSize" (pageChange)="refreshPages()"> </ngb-pagination>
                </div>
                <div class="pagesize">
                    <div for="pagesize list-label">Items per page</div>
                    <select class="form-control" id="pagesize" [(ngModel)]="pageSize" (change)="updatePageSize()" #pageSelect>
                        <option [value]="10">10</option>
                        <option [value]="25">25</option>
                        <option [value]="50">50</option>
                    </select>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- paste from here  -->

<!-- <div class="p-container" >
    <div class="header-row">
        <div class="title">Ledgers</div>
    </div>
                <div class="form mt-4">
                    <form [formGroup]="distFilterForm">
                    
                        <div class="row">
                            <div class="form-group col-6">
                                <label for="primaryEmail">DATE<span class="star">*</span></label>
                                <input type="date" class="form-control" id="date" formControlName="date" [ngClass]="{ 'is-invalid': submitted && f.primaryContactEmail.errors }">
                                <div app-errors class="text-danger" [submit]="submitted" [control]="f.date"
                                        label="Date"></div>
                            </div>
                            <div class="form-group col-6">
                                <label for="secPerson">TRANSACTION DETAILS</label>
                                <input type="text" class="form-control" id="transactionDetails" formControlName="transactionDetails">
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group col-6">
                                <label for="primaryEmail">VCH TYPE<span class="star">*</span></label>
                                <input type="email" class="form-control" id="vchType" formControlName="vchType" [ngClass]="{ 'is-invalid': submitted && f.primaryContactEmail.errors }">
                                <div app-errors class="text-danger" [submit]="submitted" [control]="f.vchType"
                                        label="Vch Type"></div>
                            </div>
                            <div class="form-group col-6">
                                <label for="secPerson">AMOUNT</label>
                                <input type="text" class="form-control" id="amount" formControlName="amount">
                            </div>
                        </div>

                        <div class="showPayment">
                                       <form [formGroup]="vendorAddForm">
                                    <table class="table list-table">
                                        <thead>
                                            <tr>
                                                <th style="min-width: 200px;">DATE</th>
                                                <th>PARTICULARS</th>
                                                <th>VCH TYPE</th>
                                                <th>VCH NO.</th>
                                                <th>AMOUNT</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <ng-container formArrayName="paymentItems" *ngFor="let item of vendorAddForm.get('paymentItems')['controls']; let i = index; last as isLast; first as isFirst;">
                                                <ng-container [formGroupName]="i">
                                                    
                                                    <tr>
                                                        
                                                        <td>
                                                            <input type="date" class="form-control" id="uom" formControlName="date" placeholder="" >
                                                        </td>
                                                        <td>
                                                            <input type="text" class="form-control" id="particulars" placeholder="" formControlName="particulars" >
                                                        </td>
                                                        <td>
                                                            <input type="text" class="form-control" id="vchType" formControlName="vchType" placeholder="" >
                    
                                                        </td>
                                                        <td>
                                                            <input type="text" class="form-control" id="vchNo" formControlName="vchNo" placeholder="" >
                    
                                                        </td>
                                                        <td>
                                                            <input type="text" class="form-control" id="amount" formControlName="amount" placeholder="" >
                    
                                                        </td>
                                                    </tr>
                                                </ng-container>
                                            </ng-container>
                                        </tbody>
                                    </table>
                                    </form>
                                
                              </div>    

                    </form>
                    <div>
                        <div class="draft-btn">
                            <button type="button" class="btn btn-outline-secondary close-btn" >Save Draft</button>
                        </div>
                        <button type="button" class="btn btn-outline-secondary close-btn" >Cancel</button>
                        <button type="button" class="btn btn-save" style="float: right;"><span>Save</span></button>
                    </div>
                </div>
            </div> -->



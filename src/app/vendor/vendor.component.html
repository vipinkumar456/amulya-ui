<div class="p-container">
    <div class="header-row" *ngIf="showList">
        <div class="title">Vendors</div>
        <div>
            <button type="button" class="btn btn-prod-pri" (click)="showAddForm()">
                <div><img src="../../assets/add-24px (1).png"></div>
                <div>New Vendor</div>
            </button>
        </div>
        <div class="download"><img src="../../assets/download.png"></div>
        <div class="relative">
            <div class="filter" (click)="$event.stopPropagation();filterOpen();"><img src="../../assets/filter_alt-24px.png"> Filter</div>

            <div class="filterDiv" *ngIf="filter" (click)="$event.stopPropagation();">
                <form #filter="ngForm">
                    <div class="row">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="code">ITEM NAME</label>
                                    <input type="text" class="form-control" name="itemName" [(ngModel)]="filterData.itemName">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="code">ITEM NUMBER</label>
                                    <input type="number" class="form-control" name="itemNumber" [(ngModel)]="filterData.itemNumber">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="code">ITEM PRICE</label>
                                    <input type="text" class="form-control" name="itemPrice" [(ngModel)]="filterData.itemPrice">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="code">VENDOR CODE</label>
                                    <input type="text" class="form-control" name="vendorCode" [(ngModel)]="filterData.vendorCode" style="text-transform:uppercase">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="code">VENDOR NAME</label>
                                    <input type="text" class="form-control" name="vendorName" [(ngModel)]="filterData.vendorName">
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label for="code">STATUS</label>
                                    <div style="display: inline-flex;">
                                        <div class="form-check ml-2">
                                            <input class="form-check-input" type="radio" name="flexRadioDefault" value="ACTIVE" [(ngModel)]="filterData.status" checked>
                                            <label class="form-check-label" for="flexRadioDefault1">
                                          Active
                                        </label>
                                        </div>
                                        <div class="form-check ml-2">
                                            <input class="form-check-input" type="radio" name="flexRadioDefault" value="INACTIVE" [(ngModel)]="filterData.status">
                                            <label class="form-check-label" for="flexRadioDefault2">
                                          In-Active
                                        </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12 text-right">
                                <button type="button" class="btn btn-save float-right" (click)="filterProducts()"><span>Find Results</span></button>
                            </div>
    
                        </div>

                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="page-content">
        <div class="showList" *ngIf="showList">
            <ul ngbNav #nav="ngbNav" [(activeId)]="active" class="nav-tabs list-nav">
                <li [ngbNavItem]="1">
                    <a ngbNavLink >Active<div class="number">({{Activevendors?.length}})</div></a>
                    <ng-template ngbNavContent>
                        <table class="table list-table">
                            <thead>
                                <tr>
                                    <th scope="col" *ngFor="let head of Activeheader; let i = index">
                                        <div *ngIf="head.showSort" class="sort" (click)="sortBy(head.APIname, head)">{{head.name}}<img src="../../assets/arrow_drop_up-24px.png"></div>
                                        <div *ngIf="!head.showSort">{{head.name}}</div>
                                    </th>
                                    <th>
                                     </th>   
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let vendor of Activevendors; let i= index">
                                    <td>{{i+1}}</td>
                                    <td class="venEdit">
                                        <div (click)="showVendorData(vendor)">{{vendor.vendorName}}</div>
                                    </td>
                                    <td>{{vendor.vendorCode}}</td>
                                    <td>{{vendor.onboardDate | date:"dd/MM/yyyy"}}</td>
                                    <td>{{vendor.city}}</td>
                                    <td>{{vendor.state}}</td>
                                    <td>{{vendor.pinCode}}</td>
                                    <td>
                                        <div class="controls" (click)="showOptions($event,vendor)">
                                            <img class="more-btn" *ngIf="!vendor.showMenu" src="../../assets/more_vert-24px @2x.png">
                                            <img class="more-btn" *ngIf="vendor.showMenu" src="../../assets/close-24px (2)@2x.png">
                                        </div>
                                        <div class="vendorMenu" *ngIf="vendor.showMenu">
                                            <div class="Edit elmnt" (click)="editVendor(vendor)"><img src="../../assets/Edit.png">Edit
                                            </div>
                                            <!-- <div class="Edit elmnt"><img src="../../assets/Delete.png">Delete
                                            </div> -->
                                            <!-- <div class="Edit elmnt"><img src="../../assets/manage.png">Manage Quantity
                                            </div> -->
                                            <div class="Edit elmnt" (click)="updateStatus(vendor, 'INACTIVE')"><img src="../../assets/library_add_check-24px.png">Mark Inactive
                                            </div>
                                            <div class="Edit elmnt" [routerLink]="['/payment',vendor.vendorName,vendor.vendorCode]"><img src="../../assets/library_add_check-24px.png">Make Payment</div>
                                            <div class="Edit elmnt" [routerLink]="['/ledger',vendor.vendorName,vendor.vendorCode]"><img src="../../assets/library_add_check-24px.png">Ledger
                                            </div>
                                            <!-- <div class="Edit elmnt"><img src="../../assets/add_circle_outline-24px.png">New Sales Order
                                            </div>
                                            <div class="Edit elmnt"><img src="../../assets/add_circle_outline-24px.png">New Purchase Order
                                            </div> -->
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                   
                        
                    </ng-template>
                </li>
                <li [ngbNavItem]="2">
                    <a ngbNavLink>Inactive<div class="number">({{InActivevendors?.length}})</div></a>
                    <ng-template ngbNavContent>
                        <table class="table list-table">
                            <thead>
                                <tr>
                                    <th scope="col" *ngFor="let head of InActiveheader; let i = index">
                                        <div *ngIf="head.showSort" class="sort" (click)="sortBy(head.APIname, head)">{{head.name}}<img src="../../assets/arrow_drop_up-24px.png"></div>
                                        <div *ngIf="!head.showSort">{{head.name}}</div>
                                    </th>
                                    <th>
                                     </th>   
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let vendor of InActivevendors; let i= index">
                                    <td>{{i+1}}</td>
                                    <td class="venEdit">
                                        <div (click)="showVendorData(vendor)">{{vendor.vendorName}}</div>
                                    </td>
                                    <td>{{vendor.vendorCode}}</td>
                                    <td>{{vendor.onboardDate | date:"dd/MM/yyyy"}}</td>
                                    <td>{{vendor.city}}</td>
                                    <td>{{vendor.state}}</td>
                                    <td>{{vendor.pinCode}}</td>
                                    <td>
                                        <div class="controls" (click)="showOptions($event,vendor)">
                                            <img class="more-btn" *ngIf="!vendor.showMenu" src="../../assets/more_vert-24px @2x.png">
                                            <img class="more-btn" *ngIf="vendor.showMenu" src="../../assets/close-24px (2)@2x.png">
                                        </div>
                                        <div class="vendorMenu" *ngIf="vendor.showMenu">
                                            <div class="Edit elmnt" (click)="editVendor(vendor)"><img src="../../assets/Edit.png">Edit
                                            </div>
                                            <!-- <div class="Edit elmnt"><img src="../../assets/Delete.png">Delete
                                            </div>
                                            <div class="Edit elmnt"><img src="../../assets/manage.png">Manage Quantity
                                            </div> -->
                                            <div class="Edit elmnt" (click)="updateStatus(vendor, 'ACTIVE')"><img src="../../assets/library_add_check-24px.png">Mark Active
                                            </div>
                                            <!-- <div class="Edit elmnt"><img src="../../assets/add_circle_outline-24px.png">New Sales Order
                                            </div>
                                            <div class="Edit elmnt"><img src="../../assets/add_circle_outline-24px.png">New Purchase Order
                                            </div> -->
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        
                    </ng-template>
                </li>
                <li [ngbNavItem]="3">
                    <a ngbNavLink>Draft<div class="number">({{Draftedvendors?.length}})</div></a>
                    <ng-template ngbNavContent>
                        <table class="table list-table">
                            <thead>
                                <tr>
                                    <th scope="col">S.No</th>
                                    <th scope="col">VENDOR NAME <img src="../../assets/arrow_drop_up-24px.png"></th>
                                    <th scope="col">VENDOR CODE <img src="../../assets/arrow_drop_up-24px.png"></th>
                                    <th scope="col">DRAFT SAVED ON<img src="../../assets/arrow_drop_up-24px.png"></th>
                                    <th scope="col">Edit <img src="../../assets/arrow_drop_up-24px.png"></th>
                                    <th scope="col"></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let vendor of Draftedvendors; let i= index">
                                    <td>{{i+1}}</td>
                                    <td class="venEdit">
                                        <div (click)="showVendorData(vendor)">{{vendor.vendorName}}</div>
                                    </td>
                                    <td>{{vendor.vendorCode}}</td>
                                    <td>{{vendor.onboardDate | date:"dd/MM/yyyy"}}</td>
                                    <td class="venEdit">
                                        <div (click)="editDraft(vendor)">Edit</div>
                                    </td>
                                    <td>
                                        <div class="controls" (click)="showOptions($event,vendor)">
                                            <img class="more-btn" *ngIf="!vendor.showMenu" src="../../assets/more_vert-24px @2x.png">
                                            <img class="more-btn" *ngIf="vendor.showMenu" src="../../assets/close-24px (2)@2x.png">
                                        </div>
                                        <div class="vendorMenu" *ngIf="vendor.showMenu">
                                            <div class="Edit elmnt" (click)="editVendor(vendor)"><img src="../../assets/Edit.png">Edit
                                            </div>
                                            <!-- <div class="Edit elmnt"><img src="../../assets/Delete.png">Delete
                                            </div>
                                            <div class="Edit elmnt"><img src="../../assets/manage.png">Manage Quantity
                                            </div> -->
                                            <div class="Edit elmnt"><img src="../../assets/library_add_check-24px.png">Mark Active
                                            </div>
                                            <!-- <div class="Edit elmnt"><img src="../../assets/add_circle_outline-24px.png">New Sales Order
                                            </div>
                                            <div class="Edit elmnt"><img src="../../assets/add_circle_outline-24px.png">New Purchase Order
                                            </div> -->
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </ng-template>
                </li>

            </ul>
            
            <div [ngbNavOutlet]="nav" class="mt-2"></div>
        </div>
       

        <div class="d-flex justify-content-between p-2 prodList-pagination" *ngIf="Activevendors?.length > 0 && showList ">
            <!-- <div class="backToTop" (click)="scrollToTop(pageTop)">Back to Top</div> -->
            <div class="pagi">
                <ngb-pagination [collectionSize]="collectionSize" [(page)]="page" [maxSize]="4" [pageSize]="pageSize" (pageChange)="refreshPages()"> </ngb-pagination>
            </div>
            <div class="pagesize">
                <div for="pagesize list-label">Items per page</div>
                <select class="form-control" id="pagesize" [(ngModel)]="pageSize" (change)="updatePageSize()" #pageSelect>
                    <option [value]="10">10</option>
                    <option [value]="25">25</option>
                    <option [value]="50">50</option>
                </select>
            </div>
        </div>
        <div class="showForm" *ngIf="!showList">
            <div class="header-row">
                <div class="title"><img class="backBtn" (click)="closeVendorForm()" src="../../assets/keyboard_backspace-24px (1).png" /> {{text}}</div>
            </div>
            <!-- vendor details -->
            <div class="content details" *ngIf="vendorDetails && selectedVendor">
                <div class="details">
                    <div class="vendorCard card" style="padding: 20px;">
                        <div class="vendorData">
                            <div class="row">
                                <div class="form-group col-6">
                                    <div class="element">
                                        <div class="heading">VENDOR</div>
                                        <div class="value">{{selectedVendor.vendorName}}</div>
                                    </div>
                                </div>
                                <div class="form-group col-6">
                                    <div class="element">
                                        <div class="heading">CODE</div>
                                        <div class="value">{{selectedVendor.vendorCode}}</div>
                                    </div>
                                </div>  
                            </div>   
                            <div class="row">
                                <div class="form-group col-6">
                                    <div class="element">
                                        <div class="heading">PRIMARY CONTACT</div>
                                        <div class="value">{{selectedVendor.primaryContactNumber}}</div>
                                    </div>
                                </div>   
                                <div class="form-group col-6">                                   
                                    <div class="element">
                                        <div class="heading">SECONDARY CONTACT</div>
                                        <div class="value">{{selectedVendor.secondaryContactPerson}}</div>
                                    </div>
                                </div>   
                            </div>           
                            <div class="row">
                                <div class="form-group col-6">  
                                    <div class="element">
                                        <div class="heading">PRIMARY EMAIL</div>
                                        <div class="value">{{selectedVendor.primaryContactEmail}}</div>
                                    </div>
                                </div>    
                                <div class="form-group col-6">  
                                    <div class="element">
                                        <div class="heading">SECONDARY CONTACT PERSON</div>
                                        <div class="value">{{selectedVendor.secondaryContactPerson}}</div>
                                    </div>
                                </div>  
                
                            </div>  
                            <div class="row"> 
                                <div class="form-group col-6">  
                                    <div class="element">
                                        <div class="heading">CONTACT NUMBER</div>
                                        <div class="value">{{selectedVendor.primaryContactNumber}}</div>
                                    </div>
                                </div>    
                                <div class="form-group col-6">  
                                    <div class="element">
                                        <div class="heading">SECONDARY EMAIL</div>
                                        <div class="value">{{selectedVendor.secondaryContactEmail}}</div>
                                    </div>
                                </div>  
                            </div>    
                            <div class="row"> 
                                <div class="form-group col-6">  
                                    <div class="element">
                                        <div class="heading">PIN CODE</div>
                                        <div class="value">{{selectedVendor.pinCode}}</div>
                                    </div>
                                </div>    
                                <div class="form-group col-6">  
                                    <div class="element">
                                        <div class="heading">STATE</div>
                                        <div class="value">{{selectedVendor.state}}</div>
                                    </div>
                                </div>  
                            </div>          
                            <div class="row"> 
                                <div class="form-group col-6">  
                                    <div class="element">
                                        <div class="heading">CITY</div>
                                        <div class="value">{{selectedVendor.city}}</div>
                                    </div>
                                </div>    
                                <div class="form-group col-6">  
                                    <div class="element">
                                        <div class="heading">ADDRESS</div>
                                        <div class="value">{{selectedVendor.address}}</div>
                                    </div>
                                </div>  
                            </div>  
                            <div class="row"> 
                                <div class="form-group col-6">  
                                    <div class="element">
                                        <div class="heading">BANK NAME</div>
                                        <div class="value">{{selectedVendor.bankName}}</div>
                                    </div>
                                </div>    
                                <div class="form-group col-6">  
                                    <div class="element">
                                        <div class="heading">IFSC CODE</div>
                                        <div class="value">{{selectedVendor.ifscCode}}</div>
                                    </div>
                                </div>  
                            </div> 
                            <div class="row"> 
                                <div class="form-group col-6">  
                                    <div class="element">
                                        <div class="heading">BRANCH NAME</div>
                                        <div class="value">{{selectedVendor.branchName}}</div>
                                    </div>
                                </div>    
                                <div class="form-group col-6">  
                                    <div class="element">
                                        <div class="heading">ACCOUNT HOLDER NAME</div>
                                        <div class="value">{{selectedVendor.accountHolderName}}</div>
                                    </div>
                                </div>  
                            </div> 
                            <div class="row"> 
                                <div class="form-group col-6">  
                                    <div class="element">
                                        <div class="heading">ACCOUNT NUMBER</div>
                                        <div class="value">{{selectedVendor.accountNumber}}</div>
                                    </div>
                                </div>    
                                <div class="form-group col-6">  
                                    <div class="element">
                                        <div class="heading">CONFIRM ACCOUNT NUMBER</div>
                                        <div class="value">{{selectedVendor.accountNumber}}</div>
                                    </div>
                                </div>  
                            </div> 
                            <div class="row"> 
                                <div class="form-group col-6">  
                                    <div class="element">
                                        <div class="heading">PAN NUMBER</div>
                                        <div class="value">{{selectedVendor.panNumber}}</div>
                                    </div>
                                </div>    
                                <div class="form-group col-6">  
                                    <div class="element">
                                        <div class="heading">GST NUMBER</div>
                                        <div class="value">{{selectedVendor.gstNumber}}</div>
                                    </div>
                                </div>  
                            </div> 
                            <div class="row"> 
                                <div class="form-group col-6">  
                                    <div class="element">
                                        <div class="heading">DATE OF ONBOARDING</div>
                                        <div class="value">{{selectedVendor.onboardDate |
                                            date : 'dd-MM-yyyy'}}</div>
                                    </div>
                                </div>    
                                <div class="form-group col-6">  
                                    <div class="element">
                                        <div class="heading">PAYMENT TERMS</div>
                                        <div class="value">{{selectedVendor.paymentTerms}}</div>
                                    </div>
                                </div>  
                                
                            
                            </div> 
                            <div class="row">
                                <div class="form-group col-6">
                                    <div class="element">
                                        <div class="heading">Wallet Amount</div>
                                        <div class="value">{{selectedVendor.walletAmount}}</div>
                                    </div>
                                </div> 
                            </div> 
                            <div class="title" *ngIf="this.selectedVendor.documents">Documents</div>
                        
                                <div class="saleForm"  *ngIf="this.selectedVendor.documents">
                                    <ul class="download-list">
                                        <li *ngFor="let doc of this.selectedVendor.documents">
                                            <h6 style="text-align: center;">{{doc.documentTypeName}} </h6>
                                            <div class="resDiv"><img src="{{doc.imgRes}}" style="max-height:195px;max-width: 55%;margin-left: 20px;" /></div>
                                            <div class="resDiv">
                                             <button class="btn-download" (click)="downloadDocs(doc.file)">Download</button>
                                             </div>
                                        </li>
                                    </ul>
                                </div>

                        </div>
                  
                        <!-- <div class="edit-btn">
                            <button type="button" class="btn btn-outline-secondary" (click)="editVendor(selectedVendor)">Edit</button>
                        </div> -->
                    </div>

                    <div class="vendorProds">
                        <table class="table list-table">
                            <thead>
                                <tr>
                                    <th scope="col">S.No</th>
                                    <th scope="col">AMULYA CODE</th>
                                    <th scope="col">NAME <img src="../../assets/arrow_drop_up-24px.png"></th>
                                    <th scope="col">UOM <img src="../../assets/arrow_drop_up-24px.png"></th>
                                    <th scope="col">MRP <img src="../../assets/arrow_drop_up-24px.png"></th>
                                    <th scope="col">BV</th>
                                    <th scope="col">DP</th>
                                    <th scope="col" style="min-width: 100px;">HSN</th>
                                    <th scope="col"></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let product of products; let i= index">
                                    <td>{{ i+1 }}</td>
                                    <td>{{ product.itemNumber}}</td>
                                    <td>{{ product.itemName}}</td>
                                    <td>{{ product.uom}}</td>
                                    <td>{{ product.price}}</td>
                                    <td>{{ product.bv}}</td>
                                    <td>{{ product.dp}}</td>
                                    <td>{{ product.hsn}}</td>
                                    <!-- <td>
                                        <div class="controls" (click)="showOptions($event,product)">
                                            <img class="more-btn" *ngIf="!product.showMenu" src="../../assets/more_vert-24px @2x.png">
                                            <img class="more-btn" *ngIf="product.showMenu" src="../../assets/close-24px (2)@2x.png">
                                        </div>
                                        <div class="productMenu" *ngIf="product.showMenu">

                                        </div>
                                    </td> -->
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div >
                    <!-- <div class="draft-btn">
                        <button type="button" class="btn btn-outline-secondary close-btn" (click)="saveAsDraft(vendorAddForm)">Save Draft</button>
                    </div> -->
                    <div >
                        <button type="button" class="btn btn-outline-secondary close-btn"  style="max-width: 100px;float: right;margin-top:-10px;" (click)="ngOnInit()">Cancel</button>
                    </div>
                     <!-- <button type="button" class="btn btn-save" (click)="saveVendorData(vendorAddForm)"><span>Save Vendor</span></button> -->
                </div>
            </div>
            <!-- vendor details ends -->

            <!-- vendor form -->
            <div class="content vendorform" *ngIf="vendorForm">
                <div class="form">
                    <form [formGroup]="vendorAddForm">
                        <div class="row">
                            <div class="form-group col">
                                <label for="name list-label">NAME<span class="star">*</span></label>
                                <input type="text" class="form-control" id="name" formControlName="vendorName" [ngClass]="{ 'is-invalid': submitted && f.vendorName.errors }">
                                <div app-errors class="text-danger" [submit]="submitted" [control]="f.vendorName"
                                        label="Vendor Name"></div>
                            </div>
                            <div class="form-group col">
                                <label for="code">CODE<span class="star">*</span></label>
                                <input type="text" class="form-control" id="code" formControlName="vendorCode">
                                <div app-errors class="text-danger" [submit]="submitted" [control]="f.vendorCode"
                                        label="Vendor Code"></div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group col">
                                <label for="primaryContact">PRIMARY CONTACT PERSON<span class="star">*</span></label>
                                <input type="text" class="form-control" id="primaryContact" formControlName="primaryContactPerson" [ngClass]="{ 'is-invalid': submitted && f.primaryContactPerson.errors }">
                                <div app-errors class="text-danger" [submit]="submitted" [control]="f.primaryContactPerson"
                                        label="Primary Contact Person"></div>
                            </div>
                            <div class="form-group col">
                                <label for="primaryNumber">CONTACT NUMBER<span class="star">*</span></label>
                                <input type="text" class="form-control" id="primaryNumber" formControlName="primaryContactNumber" [ngClass]="{ 'is-invalid': submitted && f.primaryContactNumber.errors }">
                                <div app-errors class="text-danger" [submit]="submitted" [control]="f.primaryContactNumber"
                                        label="Contact Number"></div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group col-6">
                                <label for="primaryEmail">PRIMARY EMAIL<span class="star">*</span></label>
                                <input type="email" class="form-control" id="primaryEmail" formControlName="primaryContactEmail" [ngClass]="{ 'is-invalid': submitted && f.primaryContactEmail.errors }">
                                <div app-errors class="text-danger" [submit]="submitted" [control]="f.primaryContactEmail"
                                        label="Primary Email"></div>
                            </div>
                            <div class="form-group col-6">
                                <label for="secPerson">SECONDARY CONTACT PERSON</label>
                                <input type="text" class="form-control" id="secPerson" formControlName="secondaryContactPerson">
                            </div>
                        </div>
                        <div class="row">
                            
                            <div class="form-group col-6">
                                <label for="secNumber">CONTACT NUMBER</label>
                                <input type="text" class="form-control" id="secNumber" formControlName="secondaryContactNumber">
                            </div>
                            <div class="form-group col-6">
                                <label for="secEmail">SECONDARY EMAIL</label>
                                <input type="email" class="form-control" id="secEmail" formControlName="secondaryContactEmail">
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group col-6">
                                <label for="pincode">PINCODE<span class="star">*</span></label>
                                <input type="number" class="form-control" id="pincode" formControlName="pinCode" (change)="pincode($event.target)"  [ngClass]="{ 'is-invalid': submitted && f.pinCode.errors }">
                                <div app-errors class="text-danger" [submit]="submitted" [control]="f.pinCode"
                                        label="PIN Code"></div>
                            </div>
                            <div class="form-group col-6">
                                <label>STATE</label>
                                <input type="text" class="form-control" formControlName="state" disabled>
                            </div>
                            <div class="form-group col-6">
                                <label>CITY</label>
                                <input type="text" class="form-control" formControlName="city" disabled>
                            </div>

                            <div class="form-group col-6">
                                <label for="address">ADDRESS<span class="star">*</span></label>
                                <input type="text" class="form-control" id="address" formControlName="address" [ngClass]="{ 'is-invalid': submitted && f.address.errors }">
                                <div app-errors class="text-danger" [submit]="submitted" [control]="f.address"
                                        label="Address"></div>
                            </div>

                                <div class="form-group col-6">
                                    <label>BANK NAME<span class="star">*</span></label>
                                    <select class="form-control" id="placement" formControlName="bankName" (change)="getIfscCodeList()" [ngClass]="{ 'is-invalid': submitted && f.bankName.errors }">
                                        <option value="">Select Bank</option>
                                        <option *ngFor="let bank of bankList" [value]="bank">{{bank}}</option>
                                    </select>
                                    <!-- <input type="text" class="form-control" formControlName="bankName" [ngClass]="{ 'is-invalid': submitted && f.bankName.errors }"> -->
                                    <div app-errors class="text-danger" [submit]="submitted" [control]="f.bankName" label="Bank Name"></div>
                                </div>
                                <div class="form-group col-6">
                                    <label>IFSC CODE<span class="star">*</span></label>
                                    <ng-select [items]="IfscCodeList" required formControlName="ifscCode" (change)="getBranchDetails()" bindValue="ifscCode" class="browser-default custom-select labelSelect" [virtualScroll]="true" bindLabel="itemNumber"
                                                                 placeholder="Select IFSC Code" appendTo="body">
                                        <ng-template ng-header-tmp></ng-template>
                                        <ng-template ng-option-tmp let-ifsc="item" let-index="index">
                                            <div>{{ifsc}}</div>
                                        </ng-template>
                                    </ng-select>
                                    <!-- <input type="text" class="form-control" formControlName="ifscCode" [ngClass]="{ 'is-invalid': submitted && f.ifscCode.errors }"> -->
                                    <div app-errors class="text-danger" [submit]="submitted" [control]="f.ifscCode" label="IFSC Code"></div>
                                </div>
                                <div class="form-group col-6">
                                    <label>BRANCH NAME<span class="star">*</span></label>
                                    <input type="text" class="form-control" formControlName="branchName" [ngClass]="{ 'is-invalid': submitted && f.branchName.errors }">
                                    <div app-errors class="text-danger" [submit]="submitted" [control]="f.branchName" label="Branch Name"></div>
                                </div>
                                <div class="form-group col-6">
                                    <label>ACCOUNT HOLDER NAME<span class="star">*</span></label>
                                    <input type="text" class="form-control" formControlName="accountHolderName" [ngClass]="{ 'is-invalid': submitted && f.accountHolderName.errors }">
                                    <div app-errors class="text-danger" [submit]="submitted" [control]="f.accountHolderName" label="Account HolderName"></div>
                                </div>
                                <div class="form-group col-6">
                                    <label>ACCOUNT NO.<span class="star">*</span></label>
                                    <input type="text" class="form-control" formControlName="accountNumber" [ngClass]="{ 'is-invalid': submitted && f.accountNumber.errors }" onCopy="return false" onDrag="return false" onDrop="return false" onPaste="return false">
                                    <div app-errors class="text-danger" [submit]="submitted" [control]="f.accountNumber" label="Account Number"></div>
                                </div>
                                <div class="form-group col-6">
                                    <label>CONFIRM ACCOUNT NO.<span class="star">*</span></label>
                                    <input type="text" class="form-control" formControlName="confirmAccountNumber" [ngClass]="{ 'is-invalid': submitted && f.confirmAccountNumber.errors }" onCopy="return false" onDrag="return false" onDrop="return false" onPaste="return false">
                                    <div app-errors class="text-danger" [submit]="submitted" [control]="f.confirmAccountNumber" label="Confirm Account Number"></div>
                                </div>
      
                            <div class="form-group col-6">
                                <label for="pannumber">PAN NUMBER<span class="star">*</span></label>
                                <input type="text" class="form-control" id="pannumber" formControlName="panNumber" [ngClass]="{ 'is-invalid': submitted && f.panNumber.errors }">
                                <div app-errors class="text-danger" [submit]="submitted" [control]="f.panNumber"
                                        label="PAN Number"></div>
                            </div>
                            <div class="form-group col-6">
                                <label for="gst">GST NUMBER<span class="star">*</span></label>
                                <input type="text" class="form-control" id="gst" formControlName="gstNumber" [ngClass]="{ 'is-invalid': submitted && f.gstNumber.errors }">
                                <div app-errors class="text-danger" [submit]="submitted" [control]="f.gstNumber"
                                        label="GST Number"></div>
                            </div>
                            <!-- <div class="form-group col-6">
                                <label for="tin">TIN NUMBER<span class="star">*</span></label>
                                <input type="text" class="form-control" id="tin" formControlName="tinNumber">
                            </div> -->
                            <div class="form-group  col-6">

                                <label for="date">DATE OF ONBOARDING<span class="star">*</span></label>
                                <div class="input-group">
                                    <input class="form-control" id="date" formControlName="onboardDate" [owlDateTime]="dt1" [owlDateTimeTrigger]="dt1">
                                    <div class="input-group-append" [owlDateTimeTrigger]="dt1">
                                        <span class="input-group-text" id="basic-addon1">
                                        <img src="./assets/date_range-24px (1).png">
                                    </span>
                                    </div>
                                </div>
                                <owl-date-time #dt1 [pickerType]="'calendar'"></owl-date-time>
                            </div>
                            <div class="form-group col-6">
                                <label for="terms">PAYMENT TERMS</label>
                                <textarea class="form-control" id="terms" rows="3" #name="" formControlName="paymentTerms"></textarea>
                            </div>
                        </div>
                        <div class="title">Upload Document</div>
                        <p>List of Accepted Files are JPEG/JPG/PNG/PDF, Maximum File Size is 2 MB</p>
                        <div class="row">
                            <div class="col-6">
                                <div class="upload">
                                    <div *ngIf="!isApprovedID">
                                        <img src="../../assets/upload-icon.png">
                                        <div class="info">
                                            Only government approved ID'S like Aadhar, Pan card, License, etc are accepted.
                                        </div>
                                        <button type="button" class="btn btn-outline-secondary close-btn"  (click)="selectFiles('PAN_CARD')">Upload Documents</button>
                                    </div>

                                    <div *ngIf="isApprovedID">
                                        <img [src]="imageApprove" style="max-height:195px;max-width: 100%;" />
                                    </div>
                                    <div style="display: inline-flex;" class="mt-3"  *ngIf="isApprovedID">
                                        <a class="text-success cursor-pointer" (click)="downloadImage('PAN_CARD')">Download</a>
                                        <a class="venEdit cursor-pointer ml-2" (click)="selectFiles('PAN_CARD')" >Change Document</a>
                                        <a class="text-danger cursor-pointer ml-2" (click)="deleteImage('PAN_CARD')">Delete Document</a>
                                    </div>
                                    
                                        <!-- <input type="file" class="btn btn-transp"  #fileInput formControlName="uploadDocument" (change)="uploadFile()"  placeholder="Upload Documents" /> -->
                                    <!-- <a class="text-success cursor-pointer" *ngIf="vendorAddForm.get('uploadDocument').value"  (click)="downloadImage()">Download Document</a>
                                    <a class="venEdit cursor-pointer ml-2" *ngIf="vendorAddForm.get('uploadDocument').value"  (click)="selectFiles()">Change Document</a>
                                    <a class="text-danger cursor-pointer ml-2" *ngIf="vendorAddForm.get('uploadDocument').value" (click)="deleteImage()" >Delete Document</a>
                                    <a class="venEdit cursor-pointer ml-2" *ngIf="!vendorAddForm.get('uploadDocument').value" (click)="selectFiles()">Upload Document</a>    -->
                                 </div>
                            </div>
                            <div class="col-6">
                                <div class="upload">
                                    <div *ngIf="!isPassBook">
                                    <img src="../../assets/upload-icon.png">
                                    <div class="info">
                                        CANCELLED CHEQUE/PASSBOOK <br><br>
                                    </div>
                                    <!-- <input type="file" class="btn btn-transp" placeholder="Upload Documents" /> -->
                                    <button type="button" class="btn btn-outline-secondary close-btn"  (click)="selectFiles('CANCELLED_CHEQUE')">Upload Documents</button>
                                    </div>
                                    <div *ngIf="isPassBook">
                                        <img [src]="imagePassBook" style="max-height:195px;max-width: 100%;" />
                                    </div>
                                    <div style="display: inline-flex;" class="mt-3"  *ngIf="isPassBook">
                                        <a class="text-success cursor-pointer" (click)="downloadImage('CANCELLED_CHEQUE')">Download</a>
                                        <a class="venEdit cursor-pointer ml-2" (click)="selectFiles('CANCELLED_CHEQUE')" >Change Documet</a>
                                        <a class="text-danger cursor-pointer ml-2" (click)="deleteImage('CANCELLED_CHEQUE')">Delete Document</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="products">
                            <div class="title">Select Products</div>
                            <div class="itemsContainer">

                                <table class="table list-table">
                                    <thead>
                                        <tr>
                                            <th style="min-width: 400px;">ITEM DETAILS</th>
                                            <th>UOM</th>
                                            <th>RATE</th>
                                            <th>BV</th>
                                            <th>DP</th>
                                            <th style="min-width: 100px;">HSN</th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <ng-container formArrayName="vendorProducts" *ngFor="let item of vendorAddForm.get('vendorProducts')['controls']; let i = index; last as isLast; first as isFirst;">
                                            <ng-container [formGroupName]="i">
                                                <!-- [ngClass]="{ 'is-invalid': submitted && f.transactionItems['controls'].errors }" -->
                                                <tr>
                                                    <td>
                                                        
                                                        <!-- <div style="display: flex;">
                                                            <input type="text" formControlName="itemName" class="form-control itemName" (input)="searchItm(item)">
                                                            <button class="btn itemdpdown p-0" (click)="showProducts($event,item)"><img
                                                        src="../../assets/arrow_drop_down-24px.png" /></button>
                                                            <button class="btn search p-0" (click)="getProductByCode(item)"><img
                                                        src="../../assets/search-24px (2).png"></button>
                                                          
                                                        <div class="options" *ngIf="item.controls['showProdList'].value" infiniteScroll [infiniteScrollDistance]="5" [infiniteScrollThrottle]="50" [scrollWindow]="false" (scrolled)="onScroll()">
                                                                <div class="inner-option" *ngFor="let product of productList; let i = index" (click)="onProductSelection(item, product)" title="{{product.itemName}}">
                                                                    {{product.itemNumber}} - {{product.itemName}}
                                                                </div>
                                                                <div class="inner-option" *ngIf="productList.length == 0">
                                                                    No items found
                                                                </div>
                                                         </div>
                                                        </div> -->

                                                        <ng-select [items]="productList" required  formControlName="itemName" (change)="onProductSelection(item, $event)" bindValue="itemName" class="browser-default custom-select labelSelect" [virtualScroll]="true" bindLabel="itemName"
                                                         placeholder="Select Product" appendTo="body" >
                                                        <ng-template ng-header-tmp>

                                                        </ng-template>
                                                        <ng-template ng-option-tmp let-product="item" let-index="index">
                                                            <div>{{product.itemNumber}} - {{product.itemName}}</div>
                                                        </ng-template>
                                                        </ng-select>

                                                    </td>
                                                    <td>
                                                        <input type="text" class="form-control" id="uom" formControlName="uom" placeholder="" disabled>

                                                    </td>
                                                    <td>
                                                        <input type="text" class="form-control" id="price" placeholder="" formControlName="price" >
                                                    </td>
                                                    <td>
                                                        <input type="text" class="form-control" id="uom" formControlName="bv" placeholder="" disabled>

                                                    </td>
                                                    <td>
                                                        <input type="text" class="form-control" id="uom" formControlName="dp" placeholder="" disabled>

                                                    </td>
                                                    <td>
                                                        <input type="text" class="form-control" id="uom" formControlName="hsn" placeholder="" disabled>

                                                    </td>
                                                    <td>
                                                        <span class="item-close" (click)="removeItem(i)" *ngIf="!isFirst"><img src="../../assets/cancel.png" height="20" /></span>
                                                        <span class="item-addlist" (click)="addItem()" *ngIf="isLast"><img src="../../assets/add_circle_outline-24px@3x.png" height="20" /></span>
                                                    </td>
                                                </tr>
                                            </ng-container>
                                        </ng-container>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                    </form>
                    <div class="footer-btns mt-3">
                        <div class="draft-btn">
                            <button type="button" class="btn btn-outline-secondary close-btn" (click)="saveAsDraft(vendorAddForm)">Save Draft</button>
                        </div>
                        <button type="button" class="btn btn-outline-secondary close-btn" (click)="ngOnInit()">Cancel</button>
                        <button type="button" class="btn btn-save" (click)="saveVendorData(vendorAddForm)"><span>Save Vendor</span></button>
                    </div>
                </div>
            </div>
            <!-- vendor form ends -->
        </div>
    </div>
</div>
<input type="file" #fileInput style="width: 100%;visibility: hidden; height: 0px;" (change)="uploadFile()" />
